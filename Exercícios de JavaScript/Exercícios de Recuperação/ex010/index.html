<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vetores e Matrizes?</title>
    <style>
        .jogador-x{
            color: red;
        }

        .jogador-o{
            color: blue;
        }
    </style>
</head>
<body style="background-color: gray; font-family: sans-serif;">
    <h1>Olá, Mundo!</h1>

    <p><input type="text" name="nome" id="nome" placeholder="Digite o seu nome"><button>Enviar</button></p>
    <p></p>

    <p class="resultado"></p>
    <input type="number" name="numero" id="numero" min="1" max="9"><button>Enviar</button>
    <div id="erro-matriz"><br> Mensagem de Erro da Matiz</div>
    <div id="fim-do-jogo">Mensagem de Fim de Jogo da Matriz</div>

    <script>
        let vetor = Array(5, 8, 4, 12, 9, 2, 85, 43, 129);
        let matriz = Array(Array(3, 5, 1), Array(7, 4, 9), Array(8, 6, 3));
        let caixaTexto = window.document.getElementById("nome");
        let botaoEnviar = window.document.getElementsByTagName("button")[0];
        let resultado = window.document.getElementsByClassName("resultado")[0];
        let numeroMatriz = window.document.querySelector("input#numero");
        let botaoMatriz = window.document.getElementsByTagName("button")[1];
        let mensagemFimJogo = window.document.querySelector("div#fim-do-jogo");
        let erroMatriz = window.document.getElementById("erro-matriz")
        let vezdoJogador = 1;
        let contarUltimaJogada = 0;
        let contarUltimaJogada2 = 0;
        let valorJogadorX = "<b class='jogador-x'>x</b>";
        let valorJogadorO = "<b class='jogador-o'>o</b>";
        let testeX = 0;
        let testeO = 0;
        let cont = 0;

        matriz[0][2] = 34;
        console.log(matriz);
        console.log(vetor);

        let teste = 0;
        for(let l = 0; l < 3; l++){
            for(let c = 0; c < 3; c++){
                teste = teste + 1;
                matriz[l][c] = teste;
                resultado.innerHTML += matriz[l][c] + " ";
            }
            resultado.innerHTML += "<br>";
        }

        function mensagemErroMatriz(){
            erroMatriz.innerHTML = "<br>ERRO: Esta posição já foi ocupada."
        }

        function exibirValoresMatriz(){
            resultado.innerHTML = ""
            for(l in matriz){
                    for(c in matriz){
                        resultado.innerHTML += matriz[l][c] + " ";
                    }
                    resultado.innerHTML += "<br>";
                }
        }

        function verificarJogadorX(){
            if((matriz[0][0] == valorJogadorX && matriz[0][1] == valorJogadorX) && (matriz[0][2] == valorJogadorX)){
                return true;
            }else if((matriz[1][0] == valorJogadorX && matriz[1][1] == valorJogadorX) && (matriz[1][2] == valorJogadorX)){
                return true;
            }else if((matriz[2][0] == valorJogadorX && matriz[2][1] == valorJogadorX) && (matriz[2][2] == valorJogadorX)){
                return true;
                contarUltimaJogada = 3
            }else if((matriz[0][0] == valorJogadorX && matriz[1][0] == valorJogadorX) && (matriz[2][0] == valorJogadorX)){
                return true;
            }else if((matriz[0][1] == valorJogadorX && matriz[1][1] == valorJogadorX) && (matriz[2][1] == valorJogadorX)){
                return true;
            }else if((matriz[0][2] == valorJogadorX && matriz[1][2] == valorJogadorX) && (matriz[2][2] == valorJogadorX)){
                return true;
            }else if((matriz[0][0] == valorJogadorX && matriz[1][1] == valorJogadorX) && (matriz[2][2] == valorJogadorX)){
                return true;
            }else if((matriz[0][2] == valorJogadorX && matriz[1][1] == valorJogadorX) && (matriz[2][0] == valorJogadorX)){
                return true;
            }else{
                return false;
            }
        }

        function verificarJogadorO(){
            for(l = 0; l < 1; l++){
                for(c = 0; c < 3; c++){
                    if(matriz[l][c] == valorJogadorO){
                        cont++;
                    }
                }
            }
            console.log(cont)
            return cont;
        }

        function mudarValorMatriz(){
            let resX = verificarJogadorX();
            let resO = verificarJogadorO();

            if(((resX == true && contarUltimaJogada >= 3) && (vezdoJogador == 1)) && ((matriz[0][0] == valorJogadorO && matriz[0][1] == valorJogadorO) && (numeroMatriz.value == 3 || numeroMatriz.value == 2))){
                mensagemFimJogo.innerHTML = "Empate."
            }else if(numeroMatriz.value == 1 && matriz[0][0] != 1){
                resultado.innerHTML = ""
                for(l = 0; l < 3; l++){
                    for(c = 0; c < 3; c++){
                        resultado.innerHTML += matriz[l][c] + " ";
                    }
                    resultado.innerHTML += "<br>"
                }
                mensagemErroMatriz();
            }else if(numeroMatriz.value == 2 && matriz[0][1] != 2){
                for(l = 0; l < 3; l++){
                    for(c = 0; c < 3; c++){
                        resultado.innerHTML += matriz[l][c] + " ";
                    }
                    resultado.innerHTML += "<br>";
                }
                mensagemErroMatriz();
            }else if(numeroMatriz.value == 3 && matriz[0][2] != 3){
                exibirValoresMatriz();
                mensagemErroMatriz();
            }else if(numeroMatriz.value == 4 && matriz[1][0] != 4){
                exibirValoresMatriz();
                mensagemErroMatriz();
            }else if(numeroMatriz.value == 5 && matriz[1][1] != 5){
                exibirValoresMatriz();
                mensagemErroMatriz();
            }else if(numeroMatriz.value == 6 && matriz[1][2] != 6){
                exibirValoresMatriz();
                mensagemErroMatriz();
            }else if(numeroMatriz.value == 7 && matriz[2][0] != 7){
                exibirValoresMatriz();
                mensagemErroMatriz();
            }else if(numeroMatriz.value == 8 && matriz[2][1] != 8){
                exibirValoresMatriz();
                mensagemErroMatriz();
            }else if(numeroMatriz.value == 9 && matriz[2][2] != 9){
                exibirValoresMatriz();
                mensagemErroMatriz();
            }else if((numeroMatriz.value == 1 && vezdoJogador == 1) && (matriz[0][0] == 1)){
                contarUltimaJogada++;
                for(let l = 0; l < 3; l++){
                    for(let c = 0; c < 3; c++){
                        matriz[0][0] = valorJogadorX;
                        resultado.innerHTML += matriz[l][c] + " "
                    }
                resultado.innerHTML += "<br>";
                vezdoJogador = 2;
                }
            }else if((numeroMatriz.value == 1 && vezdoJogador == 2) && (matriz[0][0] == 1)){
                contarUltimaJogada2++;
                for(l = 0; l < 3; l++){
                    for(c = 0; c < 3; c++){
                        matriz[0][0] = valorJogadorO;
                        resultado.innerHTML += matriz[l][c] + " ";
                    }
                    resultado.innerHTML += "<br>";
                    vezdoJogador = 1;
                }
            }else if((numeroMatriz.value == 2 && vezdoJogador == 1) && (matriz[0][1] == 2)){
                contarUltimaJogada++;
                for(l = 0; l < 3; l++){
                    for(c = 0; c < 3; c++){
                        matriz[0][1] = valorJogadorX;
                        resultado.innerHTML += matriz[l][c] + " ";
                    }
                    resultado.innerHTML += "<br>";
                    vezdoJogador = 2;
                }
            }else if((numeroMatriz.value == 2 && vezdoJogador == 2) && (matriz[0][1] == 2)){
                matriz[0][1] = valorJogadorO;
                contarUltimaJogada2++;
                for(l = 0; l < 3; l++){
                    for(c = 0; c < 3; c++){
                        resultado.innerHTML += matriz[l][c] + " ";
                    }
                    resultado.innerHTML += "<br>";
                    vezdoJogador = 1;
                }
            }else if((numeroMatriz.value == 3 && vezdoJogador == 1) && (matriz[0][2] == 3)){
                matriz[0][2] = valorJogadorX;
                contarUltimaJogada++
                for(l = 0; l < 3; l++){
                    for(c = 0; c < 3; c++){
                        resultado.innerHTML += matriz[l][c] + " ";
                    }
                    resultado.innerHTML += "<br>";
                    vezdoJogador = 2;
                }
            }else if((numeroMatriz.value == 3 && vezdoJogador == 2) && (matriz[0][2] == 3)){
                matriz[0][2] = valorJogadorO;
                contarUltimaJogada2++;
                for(l = 0; l < 3; l++){
                    for(c = 0; c < 3; c++){
                        resultado.innerHTML += matriz[l][c] + " ";
                    }
                    resultado.innerHTML += "<br>";
                    vezdoJogador = 1;
                }
            }else if((numeroMatriz.value == 4 && vezdoJogador == 1) && (matriz[1][0] == 4)){
                matriz[1][0] = valorJogadorX;
                contarUltimaJogada++;
                for(l = 0; l < 3; l++){
                    for(c = 0; c < 3; c++){
                        resultado.innerHTML += matriz[l][c] + " ";
                    }
                    resultado.innerHTML += "<br>";
                    vezdoJogador = 2;
                }
            }else if((numeroMatriz.value == 4 && vezdoJogador == 2) && (matriz[1][0] == 4)){
                matriz[1][0] = valorJogadorO;
                contarUltimaJogada2++;
                for(l = 0; l < 3; l++){
                    for(c in matriz){
                        resultado.innerHTML += matriz[l][c] + " ";
                    }
                    resultado.innerHTML += "<br>";
                    vezdoJogador = 1;
                }
            }else if((numeroMatriz.value == 5 && vezdoJogador == 1) && (matriz[1][1] == 5)){
                matriz[1][1] = valorJogadorX;
                contarUltimaJogada++;
                for(l in matriz){
                    for(c in matriz){
                        resultado.innerHTML += matriz[l][c] + " ";
                    }
                    resultado.innerHTML += "<br>";
                    vezdoJogador = 2;
                }
            }else if((numeroMatriz.value == 5 && vezdoJogador == 2) && (matriz[1][1] == 5)){
                matriz[1][1] = valorJogadorO;
                contarUltimaJogada2++;
                for(l in matriz){
                    for(c in matriz){
                        resultado.innerHTML += matriz[l][c] + " ";
                    }
                    resultado.innerHTML += '<br>';
                    vezdoJogador = 1;
                }
            }else if((numeroMatriz.value == matriz[1][2] && vezdoJogador == 1)){
                matriz[1][2] = valorJogadorX;
                contarUltimaJogada++;
                exibirValoresMatriz();
                vezdoJogador = 2;
            }else if((numeroMatriz.value == matriz[1][2] && vezdoJogador == 2)){
                matriz[1][2] = valorJogadorO;
                contarUltimaJogada2++;
                exibirValoresMatriz();
                vezdoJogador = 1;
            }else if(numeroMatriz.value == matriz[2][0] && vezdoJogador == 1){
                matriz[2][0] = valorJogadorX;
                contarUltimaJogada++;
                exibirValoresMatriz();
                vezdoJogador = 2;
            }else if((numeroMatriz.value == matriz[2][0] && vezdoJogador == 2)){
                matriz[2][0] = valorJogadorO;
                contarUltimaJogada2++;
                exibirValoresMatriz();
                vezdoJogador = 1;
            }else if((numeroMatriz.value == matriz[2][1] && vezdoJogador == 1)){
                matriz[2][1] = valorJogadorX;
                contarUltimaJogada++;
                exibirValoresMatriz();
                vezdoJogador = 2;
            }else if((numeroMatriz.value == matriz[2][1] && vezdoJogador == 2)){
                matriz[2][1] = valorJogadorO;
                contarUltimaJogada2++;
                exibirValoresMatriz();
                vezdoJogador = 1;
            }else if((numeroMatriz.value == matriz[2][2] && vezdoJogador == 1)){
                matriz[2][2] = valorJogadorX;
                contarUltimaJogada++;
                exibirValoresMatriz();
                vezdoJogador = 2;
            }else if((numeroMatriz.value == matriz[2][2] && vezdoJogador == 2)){
                matriz[2][2] = valorJogadorO;
                contarUltimaJogada2++;
                exibirValoresMatriz();
                vezdoJogador = 1;
            }
        }

        botaoEnviar.addEventListener("click", () =>{
            resultado.innerHTML = "O nome digitado na caixa de texto é " + caixaTexto.value;
        })
        botaoMatriz.addEventListener("click", () =>{
                resultado.innerHTML = "";
                mudarValorMatriz();
            })
        
        //São apenas testes dos meus estudos
        let contador = null
        let $soma = 0;
        let maiorValor = 0;
        let menorValor = 0;
        let totalValoresPrimos = 0;
        let vetorPrimos = [];
        console.log('Mostrar valores do vetor.')
        menorValor = vetor[0];
        for(contador in vetor){
            if(maiorValor < vetor[contador]){
                maiorValor = vetor[contador];
            }
            if(menorValor > vetor[contador]){
                menorValor = vetor[contador];
            }
            if(vetor[contador] % 2 == 0 || vetor[contador] % vetor[contador] == 1){
                totalValoresPrimos++;
                vetorPrimos.push(vetor[contador]);
            }
            $soma = $soma + vetor[contador];
        }

        let exem = Array(Array(3, 4, 1),
                Array(20, 4, 2),
                Array(7, 5, 8));
        console.log("A soma entre todos os valores do vetor é " + $soma + ". O maior valor é " + maiorValor + " e o menor valor é " + menorValor + " e o total de valores primos é " + totalValoresPrimos);
        console.log(vetorPrimos.sort())
        console.log(mensagemFimJogo)
        exem[1][0] = "<b class='teste'>Mino</b>";
        // mensagemFimJogo.innerHTML = exem[1][0]
        console.log(exem[1][0])
        if(exem[1][0] == "<b class='teste'>Mino</b>"){
            console.log("Os valores internos são iguais.");
        }else{
            console.log("A Tag importa.")
        }
        document.write("Olá, Mundo!");
    </script>
</body>
</html>